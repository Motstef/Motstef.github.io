<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Will You Be My Valentine?</title>
<style>
body {margin:0; overflow:hidden; font-family: 'Comic Sans MS', cursive; background:black; color:white;}
.stars {position: fixed; width: 100%; height: 100%; background:black; overflow:hidden; z-index:-3;}
.star {position:absolute; width:2px; height:2px; background:white; animation:twinkle 2s infinite alternate;}
@keyframes twinkle {from {opacity:0.2;} to{opacity:1;}}
.emoji {position:absolute; font-size:24px; animation:float linear infinite;}
@keyframes float {from{transform:translateY(100vh) rotate(0deg);} to{transform:translateY(-10vh) rotate(360deg);}}

/* Screens */
.screen {position:absolute; width:100%; height:100%; display:flex; justify-content:center; align-items:center; flex-direction:column; text-align:center; padding:20px; opacity:1; transition: opacity 1.5s;}
.screen.hidden {opacity:0; pointer-events:none;}
.screen.active {display:flex;}

/* Buttons */
button {padding:15px 30px; margin:20px; font-size:18px; border:none; border-radius:12px; cursor:pointer; background:pink; position:relative;}

/* Blur overlay */
#blurOverlay {position:fixed; width:100%; height:100%; backdrop-filter:blur(20px); background:rgba(0,0,0,0.6); z-index:10; display:flex; justify-content:center; align-items:center; font-size:28px;}

/* Fireworks canvas */
#canvasFireworks {position:absolute; width:100%; height:100%; z-index:-2;}

/* Typing text */
#loveLetter {margin-top:20px; font-size:24px; max-width:90%; line-height:1.5;}

/* Mobile adjustments */
@media(max-width:600px){.emoji{font-size:18px;} button{font-size:16px; padding:12px 24px;} #loveLetter{font-size:20px;}}
</style>
</head>
<body>
<div class="stars" id="stars"></div>
<div id="blurOverlay">Click anywhere â¤ï¸</div>

<!-- SCREEN 1 -->
<div class="screen active" id="screen1">
	<h1>Eirini ğŸ¦•âœ¨</h1>
    <h2>If we lived in the dinosaur era,</h2>
    <h2>Iâ€™d still find you in every lifetime ğŸ’•</h2>
    <h2>Youâ€™re my favorite star in the whole universe ğŸŒ™â­</h2>
    <h2>Will You Be My Valentine? ğŸ’–<h2>
    <button id="yesBtn" onclick="goToSecond()">Yes ğŸ’˜</button>
    <button id="noBtn">No ğŸ˜…</button>
</div>

<!-- SCREEN 2 -->
<div class="screen hidden" id="screen2">
    <canvas id="canvasFireworks"></canvas>
    <h1>YAYYYYY ğŸ¥°ğŸ†</h1>
    <div id="loveLetter"></div>
</div>

<!-- AUDIO -->
<audio id="song1" src="song1.mp3" loop></audio>
<audio id="song2" src="song2.mp3" loop></audio>

<script>
/* Generate Stars */
for(let i=0;i<200;i++){let s=document.createElement("div");s.className="star";s.style.left=Math.random()*100+"vw";s.style.top=Math.random()*100+"vh";s.style.animationDuration=(Math.random()*2+1)+"s";document.getElementById("stars").appendChild(s);}

/* Flying Emojis */
function createEmoji(){const e=document.createElement("div"); e.className="emoji"; e.innerText=Math.random()>0.5?"ğŸ¦•":"ğŸ’–"; e.style.left=Math.random()*100+"vw"; e.style.animationDuration=(Math.random()*5+5)+"s"; document.body.appendChild(e); setTimeout(()=>e.remove(),10000);}
setInterval(createEmoji,500);

/* Chrome autoplay fix */
const overlay=document.getElementById("blurOverlay");
const song1=document.getElementById("song1");
const song2=document.getElementById("song2");
overlay.addEventListener("click",()=>{overlay.style.display="none"; song1.play();});

/* No button dodge */
const noBtn=document.getElementById("noBtn");
noBtn.addEventListener("mouseover",()=>{const x=Math.random()*(window.innerWidth-noBtn.offsetWidth); const y=Math.random()*(window.innerHeight-noBtn.offsetHeight); noBtn.style.transform=`translate(${x}px,${y}px)`;});

/* Switch screen with fade */
function goToSecond(){
    const screen1=document.getElementById("screen1");
    const screen2=document.getElementById("screen2");

    screen1.classList.add("hidden");
    setTimeout(()=>{
        screen1.classList.remove("active");
        screen2.classList.remove("hidden");
        screen2.classList.add("active");
        song1.pause(); song2.play();
        startFireworks(); startTypingLetter();
    }, 1500); // match the CSS transition duration
}

/* Typing love letter effect */
const loveLetterText="RAWR means I love you ğŸ¦–ğŸ’–,\n\nYou make my heart ğŸ«€ dance like fireworks ğŸ† in the night sky. I hope you feel the same magic too! ğŸ’– You shine brighter than every star ğŸŒŸ Iâ€™d cross galaxies for you ğŸš€âœ¨";
function startTypingLetter(){const container=document.getElementById("loveLetter"); let i=0; function type(){if(i<loveLetterText.length){const c=loveLetterText[i]; container.innerHTML+=c==="\n"? "<br>":c; i++; setTimeout(type,50);} } type();}

/* Fireworks (from CodePen) */
let canvas, ctx, w, h, particles=[], probability=0.04;
let xPoint,yPoint;
function startFireworks(){
    canvas=document.getElementById("canvasFireworks");
    ctx=canvas.getContext("2d");
    resizeCanvas();
    window.requestAnimationFrame(updateWorld);
    window.addEventListener("resize",resizeCanvas,false);
}
function resizeCanvas(){w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight;}
function updateWorld(){update(); paint(); window.requestAnimationFrame(updateWorld);}
function update(){
    if(particles.length<500 && Math.random()<probability) createFirework();
    let alive=[];
    for(let i=0;i<particles.length;i++){if(particles[i].move()) alive.push(particles[i]);}
    particles=alive;
}
function paint(){
    ctx.globalCompositeOperation='source-over';
    ctx.fillStyle="rgba(0,0,0,0.2)";
    ctx.fillRect(0,0,w,h);
    ctx.globalCompositeOperation='lighter';
    for(let i=0;i<particles.length;i++) particles[i].draw(ctx);
}
function createFirework(){
    xPoint=Math.random()*(w-200)+100;
    yPoint=Math.random()*(h-200)+100;
    const nFire=Math.random()*50+100;
    const c="rgb("+(~~(Math.random()*200+55))+","+(~~(Math.random()*200+55))+","+(~~(Math.random()*200+55))+")";
    for(let i=0;i<nFire;i++) particles.push(new Particle(xPoint,yPoint,c));
}
class Particle{
    constructor(x,y,color){this.x=x; this.y=y; this.color=color; this.radius=Math.random()*2+1; this.angle=Math.random()*2*Math.PI; this.speed=Math.random()*5+2; this.gravity=0.05; this.alpha=1; this.decay=Math.random()*0.015+0.003;}
    move(){this.x+=Math.cos(this.angle)*this.speed; this.y+=Math.sin(this.angle)*this.speed+this.gravity*10; this.alpha-=this.decay; return this.alpha>0;}
    draw(ctx){ctx.save(); ctx.globalAlpha=this.alpha; ctx.fillStyle=this.color; ctx.beginPath(); ctx.arc(this.x,this.y,this.radius,0,Math.PI*2,false); ctx.fill(); ctx.restore();}
}
</script>
</body>
</html>